(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{2554:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/personality",function(){return o(1810)}])},1094:function(e,t){"use strict";t.Z={src:"/_next/static/media/campaign_bg.5aa6a4d9.png",height:960,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAbklEQVR42mNY662+2E1rrY/6Vh+N24VST5ekn9sz89ZkG4Z8O/1UR+tpDoobE01uNKkcmV/QtHntrHw7Bm9F1XBlrVxzpRI3tVxnzUJ7qUJVhjIzZYYyPY0eV7U+X7UJAer9werdARrNHhpNzvIAqkUjo0ylGRAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4}},3858:function(e,t,o){"use strict";var n=o(4836);t.Z=void 0;var r=n(o(7955)),a=o(5893);t.Z=(0,r.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},1810:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return C}});var n=o(5893),r=o(9360),a=o(1730),i=o(1163),l=o(7294),s=o(4440),c=o(1094),d=o(4246),x=o(9131),g=o(2022),p=o(5008),h=o(8163),u=o(4864),m=o(4934),f=o(9784),w=o(5490),j=o(3858),b=o(1120),I=o.n(b),y=o(6937);let k="https://hangout.aogames.org/corsproxy?url=";function Z(e){let{children:t,containerSx:o,useContainer:b=!0,withinPage:Z=!1,withBGPage:A=!1,withFooter:C=!1,hidFooterInMobile:F=!1}=e,S=(0,i.useRouter)(),v=(0,l.useRef)(null),{createAOAgentUpload:P,getAgent:R,updateAgent:_}=(0,y.N2)(),{breakpoints:T}=(0,r.Z)(),N=(0,a.Z)(T.down("lg")),[U,z]=(0,l.useState)(!0),[E,D]=(0,l.useState)(""),[H,L]=(0,l.useState)(""),[W,O]=(0,l.useState)(""),[V,Y]=(0,l.useState)(""),[B,K]=(0,l.useState)(!0),[G,q]=(0,l.useState)(!1),M=(e,t)=>{"backdropClick"!==t&&z(!1)},X=()=>{z(!1),S.push("/")},J=async()=>{if(q(!0),v.current){let e=Array.from(v.current.querySelectorAll("img")).map(e=>new Promise(t=>{e.complete?t():(e.onload=()=>t(),e.onerror=()=>t())}));await Promise.all(e);let t=(await I()(v.current,{backgroundColor:"#1c1c1c",scale:2})).toDataURL("image/png"),o=document.createElement("a");o.href=t,o.download="dialog-screenshot.png",o.click()}q(!1)},Q=()=>{z(!1),S.push("/pkfriend")},$=async()=>{try{let e=await w.W.post(f.Z.post_user_gamerole_evaluation,{},{headers:{"Content-Type":"application/json"}});return e&&1==e.code?(console.log("getTwitterPersonality++++++",e),localStorage.setItem("character",e.character),D(e.character),localStorage.setItem("game",e.game),L(e.game),localStorage.setItem("game_logo",k+e.ico),console.log("proxyImageUrl",k+e.ico),O(k+e.ico),localStorage.setItem("game_text",e.text),Y(e.text)):console.log("TwitterTokenResponse+error",e),K(!1),e.data}catch(e){return console.error(e),null}};(0,l.useEffect)(()=>{if("undefined"!=typeof localStorage&&localStorage.getItem("jwt")&&($(),localStorage.getItem("bindPkId")&&(console.log("check if has bindPkId"),ee()),!localStorage.getItem("aoProfileId"))){var e,t,o,n,r;let a=null!==(e=localStorage.getItem("accountUserName"))&&void 0!==e?e:"",i=null!==(t=localStorage.getItem("accountDisplayName"))&&void 0!==t?t:"",l=null!==(o=localStorage.getItem("accountDescription"))&&void 0!==o?o:"",s=null!==(n=localStorage.getItem("accountProfileImage"))&&void 0!==n?n:"",c=null!==(r=localStorage.getItem("accountCoverImage"))&&void 0!==r?r:"";a&&P(a,i,l,s,c,"")}},[]);let ee=async()=>{try{let e={device:{appCode:"string",deviceID:"string",imei:"string",osplatform:"string",osversion:"string",version:"string"},userId:localStorage.getItem("bindPkId")};console.log("bindNewPKfriend+params",e),console.log("绑定新PK好友",localStorage.getItem("bindPkId"));let t=await w.W.post(f.Z.post_bind_pk_friend,e,{headers:{"Content-Type":"application/json"}});t&&1==t.code?console.log("FollowTwitterResponse+",t):console.log("FollowTwitterResponse+ error",t.data)}catch(e){console.error(e)}},et=async()=>{try{let e=await w.W.post(f.Z.post_share_success_addPK,{},{headers:{"Content-Type":"application/json"}});e&&1==e.code?console.log("FollowTwitterResponse+",e):console.log("FollowTwitterResponse+ error",e.data)}catch(e){console.error(e)}},eo=()=>{let e=localStorage.getItem("userNickName"),t="https://hangout.aogames.org/campaign/?pkId="+localStorage.getItem("userId"),o="@"+e+" is indeed a/an "+E+" from "+H+", but still just another piece of cake! Wondering who you'd be in a game world？ @aohangout";console.log("shareUrl",t),et();let n="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURIComponent(o));window.open(n,"_blank")};return N?(0,n.jsxs)(s.Z,{sx:{minHeight:"100vh",background:"#000000"},children:[(0,n.jsx)(s.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,children:(0,n.jsx)(d.Z,{align:"center",sx:{color:"#FFFFFF",font:"normal 500 21px/32px Poppins",alignItems:"center"},children:"Twitter Smash"})}),(0,n.jsx)(x.Z,{children:(0,n.jsxs)(s.Z,{ref:v,sx:{},children:[(0,n.jsx)(d.Z,{align:"center",sx:{color:"#FFFFFF",font:"normal 500 24px/36px Poppins",alignItems:"center",mb:"40px"}}),(0,n.jsx)(s.Z,{display:"flex",justifyContent:"center",mb:2,mt:4,children:(0,n.jsx)(g.Z,{alt:"Tiger Pioneer",src:"".concat(W),sx:{width:80,height:80},slotProps:{img:{crossOrigin:"anonymous",onLoad:()=>console.log("Image 1 Loaded")}}})}),(0,n.jsx)(d.Z,{align:"center",sx:{color:"#FFFFFF",font:"normal 400 20px/28px Poppins",alignItems:"center",mt:"10px",ml:"10px",mr:"10px"},children:"You are the ".concat(E,' in "').concat(H,'" !!!')}),(0,n.jsx)(d.Z,{align:"center",sx:{color:"#AAAAAA",font:"normal 400 20px/28px Poppins",alignItems:"center",mt:"10px",fontWeight:"bold",ml:"10px",mr:"10px"},children:"".concat(V)})]})}),(0,n.jsxs)(p.Z,{sx:{display:"flex",flexDirection:"column","& > *":{marginLeft:"8px",marginRight:"8px"}},children:[(0,n.jsx)(s.Z,{sx:{width:"100%"},children:(0,n.jsx)(h.Z,{variant:"contained",startIcon:(0,n.jsx)("img",{src:"/twitter_dark.svg",alt:"icon",style:{width:24,height:24}}),sx:{backgroundColor:"#fff",color:"#000",width:"100%",borderRadius:"8px",padding:"12px 0",fontSize:"16px",fontWeight:"bold"},onClick:eo,children:"Share to Twitter"})}),(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"10px",width:"100%"},children:[(0,n.jsx)(h.Z,{variant:"contained",sx:{backgroundColor:"#333",color:"#fff",borderRadius:"6px",padding:"10px 0",fontSize:"12px",textTransform:"none",width:"120px",height:"48px"},onClick:X,children:"Create My AI Life"}),(0,n.jsx)(h.Z,{onClick:J,variant:"contained",sx:{backgroundColor:"#3b3b3b",color:"white",padding:"10px 0",textTransform:"none",borderRadius:"6px",height:"48px",fontSize:"12px",width:"120px","&:hover":{backgroundColor:"#4c4c4c"}},children:"Save as Image"}),(0,n.jsx)(h.Z,{variant:"contained",sx:{backgroundColor:"#333",color:"#fff",textTransform:"none",borderRadius:"6px",width:"30%",fontSize:"12px",height:"48px",mr:"0px"},onClick:Q,children:"Start Battle"})]})]})]}):(0,n.jsxs)(s.Z,{component:"div",sx:[{display:{xs:"none",lg:"flex"},background:"#000000",flexDirection:"column"},Z&&!C?{height:"100vh"}:{minHeight:"100vh"}],children:[(0,n.jsx)("img",{src:"/more_bg.jpg",alt:"bg",style:{position:"fixed",width:"100%",height:"100%",objectFit:"cover"}}),A?(0,n.jsxs)("div",{style:{height:"100vh",width:"100%",backgroundImage:"url(".concat(c.Z,")"),position:"fixed",objectFit:"cover",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,n.jsx)(s.Z,{sx:{position:"absolute",top:10,left:10,zIndex:1301},children:(0,n.jsx)(h.Z,{variant:"contained",sx:{color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",height:"48px",borderRadius:"8px",width:"160px",fontSize:"16px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},startIcon:(0,n.jsx)("img",{src:"/home_logo.png",alt:"icon",style:{width:24,height:16}}),onClick:()=>{S.push("/")},children:"Hang Out"})}),B?(0,n.jsxs)(u.Z,{open:U,onClose:M,PaperProps:{style:{backgroundColor:"#1c1c1c",color:"#fff",padding:"20px",borderRadius:"8px",width:"900px",height:"560px"}},maxWidth:"md",fullWidth:!0,children:[(0,n.jsx)(s.Z,{sx:{height:"80px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:40},children:(0,n.jsx)(m.Z,{size:60,sx:{color:"inherit"}})}),(0,n.jsx)(d.Z,{align:"center",sx:{color:"#AAAAAA",font:"normal 400 24px/32px Poppins",alignItems:"center",mt:2},children:"LOADING..."})]}):(0,n.jsxs)(u.Z,{open:U,onClose:M,PaperProps:{style:{backgroundColor:"#1c1c1c",color:"#fff",padding:"20px",borderRadius:"8px",width:"900px",height:"540px"}},ref:v,maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(x.Z,{children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(d.Z,{align:"center",sx:{color:"#FFFFFF",font:"normal 400 20px/28px Poppins",alignItems:"center",mb:"30px"},children:"Twitter Smash"}),(0,n.jsx)(s.Z,{display:"flex",justifyContent:"center",mb:2,children:(0,n.jsx)(g.Z,{alt:"Tiger Pioneer",src:"".concat(W),sx:{width:80,height:80},slotProps:{img:{crossOrigin:"anonymous",onLoad:()=>console.log("Image 1 Loaded")}}})}),(0,n.jsx)(d.Z,{align:"center",sx:{color:"#FFFFFF",font:"normal 400 20px/28px Poppins",alignItems:"center",mt:"10px"},children:"You are the ".concat(E,' in "').concat(H,'" !!!')}),(0,n.jsx)(d.Z,{align:"left",sx:{color:"#AAAAAA",font:"normal 400 18px/28px Poppins",alignItems:"center",mt:"40px",mb:"30px"},children:"".concat(V)})]})}),G?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)(p.Z,{style:{justifyContent:"center"},children:[(0,n.jsx)(h.Z,{onClick:X,sx:{margin:"0 10px",backgroundColor:"#333",color:"#fff",textTransform:"none",height:"48px",width:"280px",borderRadius:"8px"},children:"Create My AI Life"}),(0,n.jsx)(h.Z,{sx:{backgroundColor:"#333",color:"#fff",textTransform:"none",height:"48px",borderRadius:"8px",width:"200px"},onClick:J,startIcon:(0,n.jsx)(j.Z,{}),children:"Save as Image"}),(0,n.jsx)(h.Z,{onClick:Q,sx:{margin:"0 10px",backgroundColor:"#333",color:"#fff",textTransform:"none",width:"200px",height:"48px",borderRadius:"8px"},children:"Start Battle"}),(0,n.jsx)(h.Z,{variant:"contained",sx:{backgroundColor:"#fff",color:"#333",textTransform:"none",height:"48px",borderRadius:"8px",width:"200px"},onClick:eo,startIcon:(0,n.jsx)("img",{src:"/twitter_dark.svg",alt:"icon",style:{width:24,height:24}}),children:"SHARE"})]})]})]}):null]})}function A(e){let{children:t,withBGPage:o=!1}=e;return(0,n.jsx)(Z,{withBGPage:!0,children:(0,n.jsxs)(s.Z,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"}},children:[(0,n.jsx)(s.Z,{sx:{width:188,borderRadius:"20px",display:{xs:"none",lg:"flex"},flexShrink:0,bgcolor:"#ffff",p:"24px 8px",mr:6,minHeight:{xs:"unset",xl:"calc(100vh - 120px)"}}}),(0,n.jsx)(s.Z,{width:"100%",children:t})]})})}function C(){let e=(0,i.useRouter)(),{breakpoints:t}=(0,r.Z)();(0,a.Z)(t.down("lg")),null==e||e.asPath.indexOf("personality"),console.log("Personality+URL",null==e?void 0:e.asPath);let o=async()=>{try{let e=await w.W.post(f.Z.post_user_gamerole_evaluation,{},{headers:{"Content-Type":"application/json"}});return e&&1==e.code?console.log("getTwitterPersonality++++++",e):console.log("TwitterTokenResponse+error",e),e.data}catch(e){return console.error(e),null}};return(0,l.useEffect)(()=>{let{code:t}=e.query;console.log("OAuth Code++++++:",t),localStorage.getItem("jwt")&&o(),o()},[]),(0,n.jsx)(n.Fragment,{})}C.getLayout=function(e){return(0,n.jsx)(A,{children:e})}}},function(e){e.O(0,[645,443,930,973,709,745,204,467,790,888,774,179],function(){return e(e.s=2554)}),_N_E=e.O()}]);