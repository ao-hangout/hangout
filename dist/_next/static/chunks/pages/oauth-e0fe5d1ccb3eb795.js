(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{5098:function(e,t,o){"use strict";o.d(t,{Z:function(){return x}});var n=o(7462),r=o(3366),a=o(3390),s=o(4953),i=o(7172),l=o(6523);let c=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}let g=(0,i.Z)(),h=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function f({defaultTheme:e,theme:t,themeId:o}){return 0===Object.keys(t).length?e:t[o]||t}function m(e,t){let{ownerState:o}=t,a=(0,r.Z)(t,c),s="function"==typeof e?e((0,n.Z)({ownerState:o},a)):e;if(Array.isArray(s))return s.flatMap(e=>m(e,(0,n.Z)({ownerState:o},a)));if(s&&"object"==typeof s&&Array.isArray(s.variants)){let{variants:e=[]}=s,t=(0,r.Z)(s,u);return e.forEach(e=>{let r=!0;"function"==typeof e.props?r=e.props((0,n.Z)({ownerState:o},a,o)):Object.keys(e.props).forEach(t=>{(null==o?void 0:o[t])!==e.props[t]&&a[t]!==e.props[t]&&(r=!1)}),r&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,n.Z)({ownerState:o},a,o)):e.style))}),t}return s}var x=function(e={}){let{themeId:t,defaultTheme:o=g,rootShouldForwardProp:i=p,slotShouldForwardProp:c=p}=e,u=e=>(0,l.Z)((0,n.Z)({},e,{theme:f((0,n.Z)({},e,{defaultTheme:o,themeId:t}))}));return u.__mui_systemSx=!0,(e,l={})=>{var g;let x;(0,a.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:w,slot:y,skipVariantsResolver:_,skipSx:A,overridesResolver:Z=(g=h(y))?(e,t)=>t[g]:null}=l,v=(0,r.Z)(l,d),b=void 0!==_?_:y&&"Root"!==y&&"root"!==y||!1,k=A||!1,S=p;"Root"===y||"root"===y?S=i:y?S=c:"string"==typeof e&&e.charCodeAt(0)>96&&(S=void 0);let I=(0,a.default)(e,(0,n.Z)({shouldForwardProp:S,label:x},v)),j=e=>"function"==typeof e&&e.__emotion_real!==e||(0,s.P)(e)?r=>m(e,(0,n.Z)({},r,{theme:f({theme:r.theme,defaultTheme:o,themeId:t})})):e,C=(r,...a)=>{let s=j(r),i=a?a.map(j):[];w&&Z&&i.push(e=>{let r=f((0,n.Z)({},e,{defaultTheme:o,themeId:t}));if(!r.components||!r.components[w]||!r.components[w].styleOverrides)return null;let a=r.components[w].styleOverrides,s={};return Object.entries(a).forEach(([t,o])=>{s[t]=m(o,(0,n.Z)({},e,{theme:r}))}),Z(e,s)}),w&&!b&&i.push(e=>{var r;let a=f((0,n.Z)({},e,{defaultTheme:o,themeId:t}));return m({variants:null==a||null==(r=a.components)||null==(r=r[w])?void 0:r.variants},(0,n.Z)({},e,{theme:a}))}),k||i.push(u);let l=i.length-a.length;if(Array.isArray(r)&&l>0){let e=Array(l).fill("");(s=[...r,...e]).raw=[...r.raw,...e]}let c=I(s,...i);return e.muiName&&(c.muiName=e.muiName),c};return I.withConfig&&(C.withConfig=I.withConfig),C}}()},9628:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});var n=o(539),r=o(6682);function a({props:e,name:t,defaultTheme:o,themeId:a}){let s=(0,r.Z)(o);return a&&(s=s[a]||s),(0,n.Z)({theme:s,name:t,props:e})}},9341:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/oauth",function(){return o(8725)}])},1094:function(e,t){"use strict";t.Z={src:"/_next/static/media/campaign_bg.5aa6a4d9.png",height:960,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAbklEQVR42mNY662+2E1rrY/6Vh+N24VST5ekn9sz89ZkG4Z8O/1UR+tpDoobE01uNKkcmV/QtHntrHw7Bm9F1XBlrVxzpRI3tVxnzUJ7qUJVhjIzZYYyPY0eV7U+X7UJAer9werdARrNHhpNzvIAqkUjo0ylGRAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4}},9979:function(e,t,o){"use strict";o.d(t,{Z:function(){return Z}});var n=o(3366),r=o(7462),a=o(7294),s=o(512),i=o(4867),l=o(4780),c=o(4142),u=o(9628),d=o(5098),p=o(7172),g=o(5893);let h=["className","component","disableGutters","fixed","maxWidth","classes"],f=(0,p.Z)(),m=(0,d.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,t[`maxWidth${(0,c.Z)(String(o.maxWidth))}`],o.fixed&&t.fixed,o.disableGutters&&t.disableGutters]}}),x=e=>(0,u.Z)({props:e,name:"MuiContainer",defaultTheme:f}),w=(e,t)=>{let{classes:o,fixed:n,disableGutters:r,maxWidth:a}=e,s={root:["root",a&&`maxWidth${(0,c.Z)(String(a))}`,n&&"fixed",r&&"disableGutters"]};return(0,l.Z)(s,e=>(0,i.ZP)(t,e),o)};var y=o(5228),_=o(9262),A=o(6522),Z=function(e={}){let{createStyledComponent:t=m,useThemeProps:o=x,componentName:i="MuiContainer"}=e,l=t(({theme:e,ownerState:t})=>(0,r.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,o)=>{let n=e.breakpoints.values[o];return 0!==n&&(t[e.breakpoints.up(o)]={maxWidth:`${n}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,r.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}));return a.forwardRef(function(e,t){let a=o(e),{className:c,component:u="div",disableGutters:d=!1,fixed:p=!1,maxWidth:f="lg"}=a,m=(0,n.Z)(a,h),x=(0,r.Z)({},a,{component:u,disableGutters:d,fixed:p,maxWidth:f}),y=w(x,i);return(0,g.jsx)(l,(0,r.Z)({as:u,ownerState:x,className:(0,s.Z)(y.root,c),ref:t},m))})}({createStyledComponent:(0,_.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:o}=e;return[t.root,t["maxWidth".concat((0,y.Z)(String(o.maxWidth)))],o.fixed&&t.fixed,o.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,A.i)({props:e,name:"MuiContainer"})})},8725:function(e,t,o){"use strict";let n,r,a;o.r(t),o.d(t,{TWITTER_OAUTH_CLIENT_ID:function(){return k},TWITTER_OAUTH_CLIENT_REDIRECT:function(){return I},TWITTER_OAUTH_CLIENT_SECRET:function(){return S},default:function(){return C},twitterOauthTokenParams:function(){return j}});var s=o(5893),i=o(9360),l=o(1730),c=o(4440),u=o(1163),d=o(7294);o(9979);var p=o(1094),g=o(4246),h=o(4934),f=o(8163),m=o(4864),x=o(9784),w=o(5490),y=o(7386),_=o.n(y),A=o(623);function Z(e){let{children:t,containerSx:o,useContainer:y=!0,withinPage:Z=!1,withBGPage:v=!1,withFooter:b=!1,hidFooterInMobile:k=!1}=e,{breakpoints:S}=(0,i.Z)(),I=(0,l.Z)(S.down("lg")),j=(0,u.useRouter)(),[C,T]=d.useState(!0);null==j||j.asPath.indexOf("oauth"),console.log("oauthLayout+URL",null==j?void 0:j.asPath),console.log("oauthLayout query:",j.query);let{code:R,state:O}=j.query,[W,N]=(0,d.useState)(!0),[P,E]=(0,d.useState)(!0),[F,L]=(0,d.useState)(!1),[z,D]=(0,d.useState)(!1),[U,V]=(0,d.useState)(!1),[K,G]=(0,d.useState)(!1),[H,M]=(0,d.useState)(!1),[X,q]=(0,d.useState)("");async function Y(){n=await _().init({}),L(!0),console.log("arweave --> ",n)}async function B(){n&&(r=await n.wallets.generate(),D(!0),console.log("wallet --> ",r),localStorage.setItem("aoWallet",JSON.stringify(r)))}async function J(){if(n&&r)return a=await n.wallets.jwkToAddress(r),V(!0),console.log("walletAddress --> ",a),localStorage.setItem("walletAddress",a),a}async function $(){if(!(n&&r))return;let e=JSON.stringify(r);return console.log("wallet key --> ",e),localStorage.setItem("walletKey",e),""!==a&&""!==e&&et(a,e),e}let Q=async(e,t)=>{"backdropClick"!==t&&E(!1)},ee=async()=>{try{let e=await w.W.post(x.Z.get_user_wallet,{},{headers:{"Content-Type":"application/json"}});return e&&1==e.code?(console.log("getUserWalletResponse+",e),e.wallet?(localStorage.setItem("walletAddress",e.wallet.walletAddress),localStorage.setItem("walletKey",e.wallet.privateKey),q(e.wallet.walletAddress)):await er()):console.log("getUserWalletResponse+ error",e),e.data}catch(e){return console.error(e),null}},et=async(e,t)=>{try{let o=await w.W.post(x.Z.post_user_createwallet,{device:{appCode:"string",deviceID:"string",imei:"string",osplatform:"string",osversion:"string",version:"string"},privateKey:t,walletAddress:e},{headers:{"Content-Type":"application/json"}});return o&&1==o.code?(console.log("CreateWalletResponse+",o),q(e)):console.log("CreateWalletResponse+ error",o),o.data}catch(e){return console.error(e),null}},eo=async e=>{try{let t=await w.W.post(x.Z.post_oauth_login,{channel:"hangout",callback:"https://hangout.aogames.org/oauth/",codeChallenge:"y_SfRG4BmOES02uqWeIkIgLQAlTBggyf_G7uKT51ku8",codeVerifier:"8KxxO-RPl0bLSxX5AWwgdiFbMnry_VOKzFeIlVA7NoA",scope:"users.read tweet.read follows.write",code:e,device:{appCode:"string",deviceID:"string",imei:"string",osplatform:"string",osversion:"string",version:"string"}},{headers:{"Content-Type":"application/json"}});if(t&&1==t.code){console.log("TwitterTokenResponse+",t),console.log("TwitterTokenResponse+user",t.user);let e=JSON.parse(t.account.partnerAttachment);localStorage.setItem("jwt",t.token),localStorage.setItem("userId",t.user.id),localStorage.setItem("userNickName",t.user.nickName),localStorage.setItem("accountId",t.account.id),localStorage.setItem("accountUserName",e.username),localStorage.setItem("accountDisplayName",e.name),localStorage.setItem("accountDescription",e.description),localStorage.setItem("accountProfileImage",e.profileImageUrl),localStorage.setItem("accountCoverImage",""),N(!1),en(),localStorage.getItem("walletAddress")||localStorage.getItem("walletKey")||ee(),"HangoutHome"==localStorage.getItem("previousOauthPage")?j.push("/hangName"):j.push("/personality")}else console.log("Test+++TwitterTokenResponse+ error",t),A.Z.error(t.message);return t.data}catch(e){return console.error(e),null}},en=async()=>{try{let e=await w.W.post(x.Z.post_follow_hangout_follow,{},{headers:{"Content-Type":"application/json"}});e&&1==e.code?(localStorage.setItem("followSmash","false"),console.log("FollowTwitterResponse+",e)):console.log("FollowTwitterResponse+ error",e.data)}catch(e){console.error(e)}};async function er(){await Y(),await B(),await J(),await $()}function ea(e){let t=e.length;if(t<=8)return e;let o=e.slice(0,4),n=e.slice(-4),r="*".repeat(t-8);return"".concat(o).concat(r).concat(n)}return(0,d.useEffect)(()=>{console.log("OAuth Code++++++:",R),"undefined"!=typeof localStorage&&R&&O&&(console.log("OAuth Code:",R),eo(R.toString()))},[R,O]),I?(0,s.jsx)(c.Z,{sx:{minHeight:"100vh",background:"#FAFAFA"},children:v?(0,s.jsxs)(c.Z,{sx:{height:"100vh",width:"100%",backgroundColor:"black"},children:[(0,s.jsx)(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:(0,s.jsx)(g.Z,{align:"center",sx:{color:"#FFFFFF",font:"normal 500 21px/36px Poppins",alignItems:"center"},children:"Twitter Smash"})}),(0,s.jsx)(c.Z,{sx:{height:"80px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:80},children:(0,s.jsx)(h.Z,{size:80,sx:{color:"white"}})}),(0,s.jsx)(g.Z,{align:"center",sx:{color:"#AAAAAA",font:"normal 400 24px/32px Poppins",alignItems:"center",mt:2},children:"LOADING..."}),(0,s.jsx)(c.Z,{sx:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:"200px"},children:(0,s.jsx)(g.Z,{sx:{fontSize:"0.8rem",color:"#ffffff99"},children:X?"Agent code: "+ea(X):""})})]}):null}):(0,s.jsxs)(c.Z,{component:"div",sx:[{display:{xs:"none",lg:"flex"},background:"#000000",flexDirection:"column"},Z&&!b?{height:"100vh"}:{minHeight:"100vh"}],children:[(0,s.jsx)("img",{src:"/more_bg.jpg",alt:"bg",style:{position:"fixed",width:"100%",height:"100%",objectFit:"cover"}}),v?(0,s.jsxs)("div",{style:{height:"100vh",width:"100%",backgroundImage:"url(".concat(p.Z,")"),backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,s.jsx)(c.Z,{sx:{position:"absolute",top:10,left:10,zIndex:1301},children:(0,s.jsx)(f.Z,{variant:"contained",sx:{color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",height:"48px",borderRadius:"8px",width:"160px",fontSize:"16px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},startIcon:(0,s.jsx)("img",{src:"/home_logo.png",alt:"icon",style:{width:24,height:16}}),onClick:()=>{j.replace("/")},children:"Hang Out"})}),(0,s.jsxs)(m.Z,{open:P,onClose:Q,PaperProps:{style:{backgroundColor:"#1c1c1c",color:"#fff",padding:"20px",borderRadius:"8px",width:"900px",height:"560px"}},maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(c.Z,{sx:{height:"80px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:40},children:(0,s.jsx)(h.Z,{size:80,sx:{color:"inherit"}})}),(0,s.jsx)(g.Z,{align:"center",sx:{color:"#AAAAAA",font:"normal 400 24px/32px Poppins",alignItems:"center",mt:2},children:"LOADING..."}),(0,s.jsx)(c.Z,{sx:{height:"40px",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:"200px"},children:(0,s.jsx)(g.Z,{sx:{fontSize:"0.8rem",color:"#ffffff99"},children:X?"Agent code: "+ea(X):""})})]})]}):null]})}function v(e){let{children:t,withBGPage:o=!1}=e;return(0,s.jsx)(Z,{withBGPage:!0,children:(0,s.jsxs)(c.Z,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"}},children:[(0,s.jsx)(c.Z,{sx:{width:188,borderRadius:"20px",display:{xs:"none",lg:"flex"},flexShrink:0,bgcolor:"#ffff",p:"24px 8px",mr:6,minHeight:{xs:"unset",xl:"calc(100vh - 120px)"}}}),(0,s.jsx)(c.Z,{width:"100%",children:t})]})})}var b=o(8764).lW;let k="YTdIeG1WMmMzR1EydTJXak8yTlY6MTpjaQ",S="rOOXAVDPH2UKJfHEve3dIdH5tvlW3AX9ajzL2uc3b_mtOEKrto",I="https://hangout.aogames.org/oauth/";b.from("".concat(k,":").concat(S),"utf8").toString("base64");let j={client_id:k,code_verifier:"8KxxO-RPl0bLSxX5AWwgdiFbMnry_VOKzFeIlVA7NoA",redirect_uri:I,grant_type:"authorization_code"};function C(){let e=(0,u.useRouter)(),{breakpoints:t}=(0,i.Z)(),o=(0,l.Z)(t.down("lg"));null==e||e.asPath.indexOf("oauth");let{code:n,state:r}=e.query,a=async t=>{try{let o=await w.W.post(x.Z.post_oauth_login,{channel:"hangout",callback:I,codeChallenge:"y_SfRG4BmOES02uqWeIkIgLQAlTBggyf_G7uKT51ku8",codeVerifier:"8KxxO-RPl0bLSxX5AWwgdiFbMnry_VOKzFeIlVA7NoA",scope:"users.read tweet.read follows.write",code:t,device:{appCode:"string",deviceID:"string",imei:"string",osplatform:"string",osversion:"string",version:"string"}},{headers:{"Content-Type":"application/json"}});return o&&1==o.code?(console.log("TwitterTokenResponse+",o),localStorage.setItem("jwt",o.token),e.replace("/")):console.log("TwitterTokenResponse+ error",o.data),o.data}catch(e){return console.error(e),null}};(0,d.useEffect)(()=>{console.log("OAuth Code++++++:",n),"undefined"!=typeof localStorage&&n&&(console.log("OAuth Code:",n),a(n.toString()))},[n,r]);let p=()=>(0,s.jsx)(s.Fragment,{});return o?(0,s.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",height:"fit-content"},children:p()}):(0,s.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",mt:"120px",mr:"100px",width:"fit-content",height:"600px"},children:p()})}C.getLayout=function(e){return(0,s.jsx)(v,{children:e})}},623:function(e,t,o){"use strict";var n=o(5893),r=o(3935),a=o(3438),s=o(280),i=o(7294);function l(e){let{content:t,type:o}=e,[r,l]=(0,i.useState)(!0);return(0,n.jsx)(a.Z,{open:r,autoHideDuration:5e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:()=>l(!1),children:(0,n.jsx)(s.Z,{severity:o,children:"timeout of 60000ms exceeded"===t?"Network connection is unstable.":t})})}t.Z={dom:null,error(e){this.dom=document.createElement("div");let t=(0,n.jsx)(l,{content:e,type:"error"});r.render(t,this.dom),document.body.appendChild(this.dom)}}},9784:function(e,t){"use strict";let o={};o.post_oauth_login="/user-api/user/twitterOAuthLogin",o.post_bind_pk_friend="/ao-api/fission/bindPKFriend",o.post_start_pk="/ao-api/fission/pk",o.post_pk_friend_list="/ao-api/fission/pkFriends",o.post_user_gamerole_evaluation="/ao-api/fission/roleEvaluation",o.post_hangout_dispatch_npc="/ao-api/hangout/dispatchNPC",o.post_npc_agent_chatStream="/ao-api/hangout/chatNPC",o.post_npc_upload_awareness="/ao-api/hangout/uploadAwareness",o.post_add_friend="/ao-api/hangout/addFriend",o.post_hangout_friend_list="/ao-api/hangout/friends",o.post_follow_hangout_follow="/ao-api/fission/followTwitter",o.post_share_success_addPK="/ao-api/fission/share",o.post_get_leftpktimes="/ao-api/fission/getLeftPkTimes",o.post_user_createwallet="/user-api/wallet/createWallet",o.get_user_wallet="/user-api/wallet/myWallet",o.post_get_awareness="/ao-api/hangout/getAwareness",o.post_upload_awareness_url="/ao-api/hangout/uploadAwarenessUrl",t.Z=o},5490:function(e,t,o){"use strict";o.d(t,{W:function(){return u}});var n=o(9669),r=o.n(n),a=o(1163),s=o.n(a),i=o(623);let l=r().create({timeout:6e4,baseURL:"https://api2.glbgpt.com/"});l.interceptors.request.use(e=>{let t=localStorage.getItem("jwt");if(t){let o=(null==e?void 0:e.headers)||{};e.headers={...o,Authorization:"".concat(t)}}return e},e=>{console.log(e),Promise.reject(e)});let c=function(e,t){let o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(e){case"get":o=l.get(t,{params:{...n},...r});break;case"post":o=l.post(t,{...n},{...r});break;case"put":o=l.put(t,{...n},{...r});break;case"delete":o=l.delete(t,{params:{...n},...r})}return new Promise((e,t)=>{o.then(t=>{let o=t.data;200!==o.code?(401==o.code&&(i.Z.error("Your access token is expired. Please login again."),localStorage.removeItem("jwt"),s().replace("/campaign")),402==o.code&&(i.Z.error("Please log in to get access token"),s().replace("/campaign")),e(o)):e(o.data)}).catch(e=>{console.log("something went wrong",e),i.Z.error(e.message),t(e)})})},u={get:(e,t,o)=>c("get",e,t,o),post:(e,t,o)=>c("post",e,t,o),put:(e,t,o)=>c("put",e,t,o),delete:(e,t,o)=>c("delete",e,t,o)}}},function(e){e.O(0,[930,973,709,745,888,774,179],function(){return e(e.s=9341)}),_N_E=e.O()}]);